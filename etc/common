GRIMA_DEPENDS="		\
	python			\
"

# kochanski

GRIMA_HOME=${TOPLEVEL:=${GRIMA_HOME}}

GRIMA_HOME=$(cd ${GRIMA_HOME}; pwd)
export GRIMA_HOME

GRIMA_BIN=${GRIMA_HOME}/bin
export GRIMA_BIN

GRIMA_ETC=${GRIMA_HOME}/etc
export GRIMA_ETC

GRIMA_LIB=${GRIMA_HOME}/lib
export GRIMA_LIB

GRIMA_SRC=${GRIMA_HOME}/src
export GRIMA_SRC

GRIMA_VAR=${GRIMA_HOME}/var
export GRIMA_VAR

GRIMA_DB=${GRIMA_VAR}/db
export GRIMA_DB

GRIMA_LOG=${GRIMA_VAR}/log
export GRIMA_LOG

GRIMA_CONFIGUREFLAGS="--prefix=${GRIMA_HOME}" 
export GRIMA_CONFIGUREFLAGS

# system

PATH=${GRIMA_BIN}:${PATH}
export PATH

LD_LIBRARY_PATH=${GRIMA_LIB}:${LD_LIBRARY_PATH}
export LD_LIBRARY_PATH

for x in ${GRIMA_DEPENDS}; do
	[ ! -d /opt/${x} ] && continue

	PATH="/opt/${x}/bin:/opt/${x}/sbin:${PATH}"
	export PATH

	LD_LIBRARY_PATH="/opt/${x}/lib:${LD_LIBRARY_PATH}"
	export LD_LIBRARY_PATH
done

# python

PYTHON_HOME=/opt/python
export PYTHON_HOME

PATH=${PYTHON_HOME}/bin:${PATH}
export PATH

PYTHON="$(which python)"
export PYTHON

PYTHONFLAGS=
export PYTHONFLAGS

PYTHONPATH=${LD_LIBRARY_PATH}:${PYTHONPATH}
PYTHONPATH=${GRIMA_LIB}:${GRIMA_LIB}/python:${PYTHONPATH}
export PYTHONPATH

for x in ${GRIMA_DEPENDS}; do
	[ ! -d /opt/${x} ] && continue

	PYTHONPATH=/opt/${x}/lib:/opt/${x}/lib/python:${PYTHONPATH}
	export PYTHONPATH
done

# extras

GRIMA_EXTRAS="		\
	Elrond		\
"
for x in ${GRIMA_EXTRAS}; do
	TOPLEVEL=${GRIMA_HOME}/extras/${x}
	. ${TOPLEVEL}/etc/common
done
